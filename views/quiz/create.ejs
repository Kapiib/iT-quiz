<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head') %>
<body>
    <%- include('../partials/navbar') %>

    <div class="container">
        <h1 class="title">Create New Quiz</h1>
        
        <div class="form-container quiz-form">
            <% if (locals.error) { %>
                <div class="error-message">
                    <%= error %>
                </div>
            <% } %>
            
            <div class="creation-instructions">
                <h3>How to create a quiz:</h3>
                <ol>
                    <li>Fill in the quiz title and description</li>
                    <li>Add questions using the "Add Question" button</li>
                    <li>For each question, add at least 2 answer options</li>
                    <li>Mark correct answers by checking the "Correct" box</li>
                    <li>Set time limits for each question (5-120 seconds)</li>
                </ol>
            </div>
            
            <form id="quizForm" action="/quiz/create" method="POST">
                <div class="form-group">
                    <label for="title">Quiz Title</label>
                    <input type="text" id="title" name="title" required placeholder="Enter a descriptive title">
                </div>
                
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" rows="3" placeholder="Explain what this quiz is about"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="isPublic">
                        <input type="checkbox" id="isPublic" name="isPublic" checked>
                        Make this quiz public (visible to all users)
                    </label>
                </div>
                
                <h3>Questions</h3>
                <div id="questions-container">
                    <!-- Questions will be added here dynamically -->
                </div>
                
                <button type="button" id="addQuestion" class="btn secondary-btn">Add Question</button>
                
                <input type="hidden" name="questions" id="questionsJSON">
                
                <div class="form-actions">
                    <a href="/profile" class="btn cancel-btn">Cancel</a>
                    <button type="submit" id="submitQuiz" class="btn">Create Quiz</button>
                </div>
            </form>
        </div>
    </div>
    
    <script src="/js/quizEditor.js"></script>
</body>
</html>