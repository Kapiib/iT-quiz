<!DOCTYPE html>
<html lang="en">
    <%- include('partials/head') %>
<body>
    <%- include('partials/navbar') %>

    <div class="container">
        <h1>My Profile</h1>
        
        <div class="profile-card">
            <div class="profile-info">
                <h3>Name</h3>
                <p><%= user.name %></p>
            </div>
            
            <div class="profile-info">
                <h3>Email</h3>
                <p><%= user.email %></p>
            </div>
            
            <div class="profile-info">
                <h3>Role</h3>
                <p><%= user.role.charAt(0).toUpperCase() + user.role.slice(1) %></p>
            </div>
            
            <div class="profile-info">
                <h3>Account Created</h3>
                <p><%= new Date(user.createdAt).toLocaleDateString() %></p>
            </div>
        </div>
        
        <div class="quiz-section">
            <h2>My Quizzes</h2>
            <a href="/quiz/create" class="btn create-quiz-btn">Create New Quiz</a>
            
            <% if (userQuizzes && userQuizzes.length > 0) { %>
                <div class="quiz-list">
                    <% userQuizzes.forEach(quiz => { %>
                        <div class="quiz-item">
                            <div class="quiz-info">
                                <h3><%= quiz.title %></h3>
                                <p><%= quiz.description %></p>
                                <span>Questions: <%= quiz.questions.length %></span>
                                <span>Created: <%= new Date(quiz.createdAt).toLocaleDateString() %></span>
                            </div>
                            <div class="quiz-actions">
                                <a href="/quiz/<%= quiz._id %>" class="btn view-btn">View</a>
                                <a href="/quiz/edit/<%= quiz._id %>" class="btn edit-btn">Edit</a>
                                <a href="/quiz/delete/<%= quiz._id %>" class="btn delete-btn" onclick="return confirm('Are you sure you want to delete this quiz?')">Delete</a>
                            </div>
                        </div>
                    <% }); %>
                </div>
            <% } else { %>
                <p class="no-quizzes">You haven't created any quizzes yet.</p>
            <% } %>
        </div>
    </div>
</body>
</html>